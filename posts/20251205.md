---
title: 刷題紀錄 - Odd Even Linked List
date: 2025-12-05
cat: LeetCode
---

- 準備搭凌晨的班機去清邁爽，怒刷一題！

![清邁](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRlEsWyfF3SRvcqnC60PlCSWrHja3J0uHSqYQ&s)

- **難度**：Medium  
- **題目連結**：https://leetcode.com/problems/odd-even-linked-list

---

### 思考過程

1. 給一個鏈結串列的頭 (head)，要把位置是奇數的放在前面，偶數的放在後面
2. 例如：[a(1), b(2), c(3), d(4)] -> **[a(1), c(3), b(2), d(4)]** ，括弧內代表原始的 index
3. 題目要求空間複雜度為 $O(1)$、時間複雜度為 $O(n)$
4. 多搞兩個指標出來，分別為 even 跟 odd，分別串上奇數跟偶數位置的節點
5. 最後把兩個接起來，搞定！？
6. 要注意容易忽略的地方，就是偶數串列要**斷尾**，詳情請看程式碼

### 複雜度分析

- **時間複雜度**：
> 遍歷一次鏈結串列，因此為 $O(n)$
- **空間複雜度**：
> 只使用固定數量的變數，因此為 $O(1)$

---

## 程式碼（Python 解法）

```python
class Solution:
    def oddEvenList(self, head: Optional[ListNode]) -> Optional[ListNode]:
        # 先判斷串列是不是空的
        if not head:
            return head

        # 建立奇數跟偶數的頭指標、移動指標
        odd_head = odd_current = ListNode(0)
        even_head = even_current = ListNode(0)
        # 建立計數器計算是奇偶位置
        count = 1

        # 依序檢查串列所有節點
        while head is not None:
            if count % 2 != 0:
                # 目前檢查的節點是奇數，就把它串上奇數串列頭
                odd_current.next = head
                # 奇數串列移動指標移動到尾巴
                odd_current = odd_current.next
            else:
                # 偶數處理方法同理
                even_current.next = head
                even_current = even_current.next
            # 最後 head 要移動到下一個、計數器加一
            head = head.next
            count += 1
        
        """
        ！！！注意！！！
        前面的做法是不斷檢查原串列每個節點，
        每次都把檢查到的節點接上偶數或奇數的串列。
        但是，BUT！「奇偶串列的最後一個節點並沒有被處理到，也就是它有可能還接著原串列的下一個節點」

        例如： 1 -> 2 -> 3
        第一次檢查：
        even -> 1 -> 2 -> 3
        第二次檢查：
        even -> 1 -> 2 -> 3
        odd -> 2 -> 3
        第三次檢查（結束）：
        even -> 1 -> 3
        odd -> 2 -> 3
        直接串在一起：
        even -> 1 -> 3 -> 2 進入無限循環( -> 3 -> 2 -> 3 .....)
        """

        # 因此奇數尾巴接在偶數頭沒問題。但要把偶數串列的尾巴截斷
        even_current.next = None
        odd_current.next = even_head.next

        return odd_head.next
```

---

## 小結 & 反思

- 一開始做的時候覺得這方法應該簡單有效，卻忽略了要**斷尾**
- 指標的運用真的還不熟練，有想法但實作的時候就東卡西卡 QQ
- 給自己的提醒：這種單向鏈結串列指標過了就沒辦法回溯，先關注在接上下個節點，再把指標移動到下一個繼續處理（？）

---